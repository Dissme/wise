<template id="bg">
	<style>
		.bg {
			height: 100%;
			width: 100%;
			overflow: hidden;
			position: relative;
			transition: all 0.2s ease;
			transform: translate(0, 0);
		}
		
		.bg canvas {
			width: 100%!important;
		}
	</style>
	<div class="bg" id="bg">
	</div>
	<script>
	~function(){
		var camera, scene, renderer,
		light1, light2, light3,
		loader, mesh, time = 0;
		var req = (function(){
                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(cb){setTimeout(cb, 160)}
            })();
		init();
		animate();
		function init() {
			var container = document.getElementById( 'bg' );
			camera = new THREE.PerspectiveCamera( 60, window.innerWidth / window.innerHeight, 1, 1000 );
			camera.position.set( 0, - 6, 60 );
			scene = new THREE.Scene();
			scene.add( new THREE.AmbientLight( 0x000000 ) );
			light1 = new THREE.PointLight( 0x30a2ff, 1, 150 );
			scene.add( light1 );
			light2 = new THREE.PointLight( 0xf77478, 1, 150 );
			scene.add( light2 );
			light3 = new THREE.PointLight( 0xf4a236, 1, 150 );
			scene.add( light3 );
			light4 = new THREE.PointLight( 0xde57b4, 1, 150 );
			scene.add( light4 );
			var PI2 = Math.PI * 2;
			var program = function ( context ) {
				context.beginPath();
				context.arc( 0, 0, 0.5, 0, PI2, true );
				context.fill();
			};
			var sprite1 = new THREE.Sprite( new THREE.SpriteCanvasMaterial( { color: 0x004cff, program: program } ) );
			light1.add( sprite1 );
			var sprite2 = new THREE.Sprite( new THREE.SpriteCanvasMaterial( { color: 0xbd1a1a, program: program } ) );
			light2.add( sprite2 );
			var sprite3 = new THREE.Sprite( new THREE.SpriteCanvasMaterial( { color: 0xed6b00, program: program } ) );
			light3.add( sprite3 );
			var sprite4 = new THREE.Sprite( new THREE.SpriteCanvasMaterial( { color: 0x67006b, program: program } ) );
			light4.add( sprite4 );
			mesh = new THREE.Mesh()
			loader = new THREE.JSONLoader();
			loader.load( '{{root}}/data/WaltHeadLo.js', function ( geometry ) {
				mesh = new THREE.Mesh( geometry, new THREE.MeshLambertMaterial( { color: 0xffffff, overdraw: 0.5 } ) );
				scene.add( mesh );
			} );
			renderer = new THREE.CanvasRenderer();
			renderer.setPixelRatio( window.devicePixelRatio );
			renderer.setSize( window.innerWidth, window.innerHeight );
			container.appendChild( renderer.domElement );
		}
		function onWindowResize() {
			camera.aspect = window.innerWidth / window.innerHeight;
			camera.updateProjectionMatrix();
			renderer.setSize( window.innerWidth, window.innerHeight );
		}
		//
		function animate() {
			req( animate );
			render();
		}
		function render() {
			time += 0.01;
			if ( mesh ) {
				mesh.position.z = 20;
				mesh.rotation.y = 3;
				mesh.rotation.z = 3;
			}

			light1.position.x = Math.sin( time ) * 300;
			light1.position.y = Math.cos( time ) * 300;
			light1.position.z = Math.sin( time ) * 300;

			light2.position.x = Math.sin( time + Math.PI / 2 ) * 300;
			light2.position.y = Math.cos( time + Math.PI / 2 ) * 300;
			light2.position.z = Math.sin( time + Math.PI / 2 ) * 300;

			light3.position.x = Math.sin( time + Math.PI * 1.5 ) * 300;
			light3.position.y = Math.cos( time + Math.PI * 1.5 ) * 300;
			light3.position.z = Math.sin( time + Math.PI * 1.5 ) * 300;

			light4.position.x = Math.sin( time + Math.PI ) * 300;
			light4.position.y = Math.cos( time + Math.PI ) * 300;
			light4.position.z = Math.sin( time + Math.PI ) * 300;
			renderer.render( scene, camera );
		}
	}()
	</script>
</template>
<template id="entries">
	<style>
		.entries {
			width: 100%;
			color: white;
			text-align: center;
			white-space: nowrap;
			margin-top: 30px;
			font-size: 0.8em;
		}
		
		.entries a img {
			display: inline-block;
			height: 20px;
			margin: 5px;
			margin-top: 5px;
			margin-bottom: 8px;
		}
		
		.entries a span {
			font-weight: 300;
			display: block;
			color: white;
		}
		
		.entries a {
			width: 22%;
			height: 3rem;
			display: inline-block;
			text-decoration: none;
			text-align: center;
			color: white;
			overflow: hidden;
		}
		
		.entries a svg {
			max-width: 100%;
			max-height: 2rem;
			fill: #fff;
		}
	</style>
	<div class="entries">
		<a href="{{root}}/?q=议程安排">
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="550"
				height="550" viewBox="0 0 550 550" enable-background="new 0 0 550 550" xml:space="preserve" style="transform:translate(0,-20%)">
				<g>
					<path d="M530.206,207.676H64.446v-93.152h465.761V207.676z" />
				</g>
				<g>
					<rect x="64.446" y="387.95" width="91.969" height="91.961" />
					<rect x="189.026" y="387.95" width="91.969" height="91.961" />
					<rect x="313.656" y="387.95" width="91.947" height="91.961" />
					<rect x="438.244" y="387.95" width="91.969" height="91.961" />
				</g>
				<g>
					<rect x="64.446" y="251.53" width="91.969" height="91.969" />
					<rect x="189.026" y="251.53" width="91.969" height="91.969" />
					<rect x="313.656" y="251.53" width="91.947" height="91.969" />
					<rect x="438.244" y="251.53" width="91.969" height="91.969" />
				</g>
			</svg>
			<span>议程安排</span>
		</a>
		<a href="{{root}}/?q=场景搜索">
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="100"
				height="130" viewBox="0 0 100 130" enable-background="new 0 0 100 130" xml:space="preserve">
				<g>
					<defs>
						<rect id="SVGID_1_" width="130.098" height="104.341" />
					</defs>
					<clipPath id="SVGID_2_">
						<use xlink:href="#SVGID_1_" overflow="visible" />
					</clipPath>

					<rect x="109.083" y="90.863" transform="matrix(-0.7283 -0.6853 0.6853 -0.7283 142.4314 245.2669)" clip-path="url(#SVGID_2_)"
						width="21.519" height="7.064" />
					<g clip-path="url(#SVGID_2_)">
						<defs>
							<rect id="SVGID_3_" width="130.098" height="104.341" />
						</defs>
						<clipPath id="SVGID_4_">
							<use xlink:href="#SVGID_3_" overflow="visible" />
						</clipPath>
						<path clip-path="url(#SVGID_4_)" d="M97.843,55.993c9.961,0,18.065,8.104,18.065,18.066
			c0,9.961-8.104,18.065-18.065,18.065c-9.962,0-18.066-8.104-18.066-18.065C79.776,64.098,87.881,55.993,97.843,55.993
			 M97.843,51.993c-12.188,0-22.066,9.879-22.066,22.066c0,12.186,9.879,22.065,22.066,22.065c12.187,0,22.065-9.88,22.065-22.065
			C119.908,61.872,110.029,51.993,97.843,51.993" />
						<polygon clip-path="url(#SVGID_4_)" points="48.111,0 0,0 0,49.779 56.474,37.023 		" />
						<polygon clip-path="url(#SVGID_4_)" points="60.712,0 68.463,34.314 102.477,26.631 102.477,0 		" />
						<polygon clip-path="url(#SVGID_4_)" points="20.7,57.707 0,62.381 0,77.634 25.203,77.634 		" />
						<g opacity="0.41" clip-path="url(#SVGID_4_)">
							<g>
								<defs>
									<path id="SVGID_5_" d="M20.7,57.707L20.7,57.707z" />
								</defs>
								<clipPath id="SVGID_6_">
									<use xlink:href="#SVGID_5_" overflow="visible" />
								</clipPath>
							</g>
						</g>
						<path clip-path="url(#SVGID_4_)" d="M37.804,77.634h35.053c-0.166-1.168-0.258-2.361-0.258-3.575
			c0-13.94,11.302-25.242,25.242-25.242c1.584,0,3.132,0.153,4.635,0.432V39.233L32.688,54.997L37.804,77.634z" />
					</g>
				</g>
			</svg>
			<span>场景搜索</span>
		</a href="#">
		<a href="http://36kr.com/topics/117" target="_blank">
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="40" height="40"
				viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve" style="transform:translate(-10%,-10%)">
				<g transform="translate(0,-952.36218)">
					<path d="M15.8,959.562v22.6c0,1.144-0.434,2.191-1.137,3H38.6c1.884,0,3.2-1.316,3.2-3.2v-22.399H15.8z M31,963.562h6.4
		c0.443,0,0.8,0.356,0.8,0.8s-0.356,0.8-0.8,0.8H31c-0.443,0-0.8-0.356-0.8-0.8S30.557,963.562,31,963.562z M8.2,964.362v17.8
		c0,1.662,1.338,3,3,3c1.662,0,3-1.338,3-3v-17.8H8.2z M20.2,964.362H26.6v5.6H20.2V964.362z M31,969.162h6.4
		c0.443,0,0.8,0.357,0.8,0.8c0,0.443-0.356,0.8-0.8,0.8H31c-0.443,0-0.8-0.357-0.8-0.8C30.2,969.519,30.557,969.162,31,969.162z
		 M20.2,974.362h17.2c0.443,0,0.8,0.357,0.8,0.8c0,0.443-0.356,0.8-0.8,0.8H20.2c-0.443,0-0.8-0.357-0.8-0.8
		C19.4,974.719,19.757,974.362,20.2,974.362z M20.2,979.562h17.2c0.443,0,0.8,0.356,0.8,0.8s-0.356,0.8-0.8,0.8H20.2
		c-0.443,0-0.8-0.356-0.8-0.8S19.757,979.562,20.2,979.562z" />
				</g>
			</svg>
			<span>大会资讯</span>
		</a>
		<a href="{{root}}/?q=关于">
			<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0" y="0" width="700"
				height="550" viewBox="0 0 700 550" enable-background="new 0 0 700 550" xml:space="preserve" style="transform: scale(3.5) translate(-1%,-15%)">
				<path d="M448.715,312.928l0.059,68.668l-16.624-16.625l0.017-35.502L448.715,312.928z M449.812,310.276
		l-18.747,18.738l-0.017,36.412l18.828,18.828L449.812,310.276z" />
				<path d="M399.264,311.375l-8.4,38.941l-14.818-16.704l4.84-22.237H399.264z M400.627,310.276H380l-5.148,23.648
		l16.629,18.746L400.627,310.276z" />
				<path d="M249.264,311.375l16.893,72.16h-17.729l-16.044-72.16H249.264z M250.136,310.276h-19.123l16.533,74.359
		h19.998L250.136,310.276z" />
				<path d="M290.953,311.375l27.775,72.16h-18.776l-15.661-41.635l-1.036-2.756l-1.025,2.76l-15.451,41.631h-17.627
		l28-72.16H290.953z M291.708,310.276h-15.309l-28.853,74.359h19.998l15.718-42.348l15.929,42.348h21.139L291.708,310.276z"
				/>
				<path d="M334.422,311.375l-14.987,72.16h-18.856l16.943-72.16H334.422z M335.774,310.276h-19.123l-17.46,74.359
		h21.139L335.774,310.276z" />
				<path d="M408.435,335.014l14.177,16.551h-30.637l-14.677-16.551H408.435z M408.941,333.915h-34.089l16.629,18.75
		h33.523L408.941,333.915z" />
				<path d="M409.545,336.304l14.267,16.651l-6.613,30.58h-17.934L409.545,336.304z M408.941,333.909l-11.042,50.728
		h20.188l6.917-31.981L408.941,333.909z" />
				<path d="M489.197,332.077l-44.963,44.979l-11.63-11.63l33.356-33.35H489.197z M491.852,330.976h-26.348
		l-34.455,34.45l13.186,13.186L491.852,330.976z" />
				<path d="M501.799,366.526l-16.636,16.627h-34.831l-16.628-16.627H501.799z M504.454,365.426h-73.405l18.827,18.827
		h35.742L504.454,365.426z" />
				<path d="M364.894,316.09l13.974,67.445h-25.873L364.894,316.09z M364.807,310.25l-13.123,74.385h28.535
		L364.807,310.25z" />
				<path d="M361.518,311.375l-12.735,72.16H331.18l14.998-72.16H361.518z M362.829,310.276h-17.546l-15.455,74.359
		h19.878L362.829,310.276z" />
				<path d="M485.701,311.375l12.045,12.146l-4.394,4.393h-59.631l16.546-16.539H485.701z M486.16,310.276h-36.348
		l-18.747,18.738h62.743l5.49-5.489L486.16,310.276z" />
				<path d="M354.719,278.919l7.458,26.517h-14.916L354.719,278.919z M354.719,274.856l-8.91,31.68h17.82
		L354.719,274.856z" />
			</svg>
			<span>关于WISE</span>
		</a>
	</div>
</template>

<template id="searchbar">
	<style>
		.searchbar {
			height: 45px;
			position: relative;
			width: 100%;
			top: 5px;
			margin-bottom: 10px;
		}
		
		.searchbar > .rbox {
			margin-left: 1rem;
			margin-right: 1rem;
			width: auto;
			outline: none;
			border: 1px solid rgba(15, 104, 255, .3);
		}
		
		.searchbar > .rbox > div:nth-of-type(1) {
			height: 45px;
			width: 45px;
			position: absolute;
			right: 0;
			top: 0;
			background: #0f68ff;
			background-image: url("{{root}}/assets/search.png");
			background-size: 20px 20px;
			background-position: 50% 50%;
			background-repeat: no-repeat;
		}
		
		.searchbar input {
			width: 100%;
			height: 100%;
			outline: none;
			padding: 2px 70px 1px 7px;
			font-size: 1.2em;
			border-radius: 0;
			border: none;
			background: rgba(255, 255, 255, 0.6);
			transition: background 0.8s ease;
		}
		
		.searchbar input:focus {
			background: rgba(255, 255, 255, 1);
		}
		
		.searchbar .sug {
			position: absolute;
			left: 0;
			right: 0;
			top: 100%;
			z-index: 9999;
			display: none;
		}
		
		.searchbar .sug.focus {
			display: block;
		}
		
		.searchbar .sug a {
			height: 35px;
			display: block;
			border-top: 1px solid #eee;
			background: white;
			color: #999;
			line-height: 38px;
			text-align: left;
			font-size: 0.9em;
			text-overflow: ellipsis;
			overflow: hidden;
			padding-left: 10px;
			padding-right: 10px;
			white-space: nowrap;
			text-decoration: none;
		}
		
		.searchbar .sug a i {
			margin-right: 5px;
		}
		
		.searchbar .sug a:visited {
			color: #999;
		}
	</style>
	<div class="searchbar">
		<div class="rbox">
			<input type="text"></input>
			<div id='searchbtn'></div>
			<div class='sug'>

				<a href="test">某某某人的某某</a>
				<a href="test">某某某人的某某</a>
				<a href="test">某某某人的某某</a>
				<a href="test">某某某人的某某</a>
			</div>
		</div>
	</div>

	<script>
        var search_container = document.querySelector(".searchbar");
        var search_element = document.querySelector(".searchbar input");
        var search_btn = document.querySelector("#searchbtn");
        var search_sug = document.querySelector(".searchbar .sug");
        search_element.addEventListener("focus", function(){
            search_container.classList.add("focus") 
            search_sug.classList.add("focus");
        });
        search_element.addEventListener("blur", function(e){
            setTimeout(function(){
            search_sug.classList.remove("focus");
            search_container.classList.remove("focus") 
            }, 1);
        });
        search_element.addEventListener("keydown", function(e){
            if(e.keyCode == 13) window.location.href = ("{{root}}/?q=" + encodeURIComponent(search_element.value));
        });

        search_btn.addEventListener("click", function(e){
            window.location.href = ("{{root}}/?q=" + encodeURIComponent(search_element.value));
        });

        if(window.word) {
            search_element.value = window.word;
        }
        
    </script>
</template>

<template id="search_sug">
	<a href="{{root}}/?q={{keyword}}"><i class="fa fa-{{icon}}"></i> {{text}}</a>
</template>

<template id="poweredBy">
	<style>
		.poweredBy {
			text-align: center;
			display: block;
			line-height: 13px;
			font-size: 12px;
			padding: 30px;
			vertical-align: middle;
			transition: all .3s ease;
			text-decoration: none;
			color: #fff;
		}
		
		.poweredBy * {
			vertical-align: middle;
		}
		
		.poweredBy svg {
			height: 9px;
			width: 45px;
			margin-left: 7px;
			display: inline-block;
			fill: #fff;
		}
	</style>
	<a class="poweredBy" href="http://emerge.cc/">
		<span>Powered By</span>
		<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
			x="0px" y="0px" width="500px" height="93.596px" viewBox="0 0 500 93.596" enable-background="new 0 0 500 93.596" xml:space="preserve">
			<g>
				<path d="M337.727,92.872h-22.386l-25.016-35.153h-11.06v35.153h-18.164V0.716h37.258
		c3.859,0,7.503,0.746,10.929,2.238c3.416,1.493,6.426,3.529,9.021,6.12c2.581,2.592,4.65,5.596,6.184,9.021
		c1.532,3.422,2.31,7.107,2.31,11.058c0,5.791-1.499,10.99-4.486,15.601c-2.978,4.61-6.881,8.011-11.711,10.204L337.727,92.872z
		 M294.934,39.555c4.654,0,8.075-1.029,10.274-3.097c2.191-2.06,3.29-4.497,3.29-7.305s-1.099-5.201-3.29-7.177
		c-2.199-1.975-5.62-2.962-10.274-2.962h-15.668v20.54H294.934z" />
				<path d="M388.335,40.768h35.914v39.063c-4.983,4.458-10.16,7.864-15.531,10.221
		c-5.378,2.363-11.298,3.544-17.765,3.544c-7.079,0-13.506-1.33-19.271-4.001c-5.77-2.664-10.684-6.159-14.745-10.484
		c-4.064-4.329-7.188-9.286-9.377-14.878c-2.183-5.593-3.277-11.361-3.277-17.303c0-7.082,1.336-13.524,4-19.338
		c2.665-5.809,6.16-10.748,10.491-14.812c4.321-4.063,9.279-7.21,14.879-9.439C379.24,1.111,385.008,0,390.953,0
		c6.204,0,12.232,1.265,18.09,3.8c5.854,2.536,11.181,6.206,15.992,11.011l-12.453,13.11c-3.231-3.06-6.713-5.443-10.42-7.144
		c-3.718-1.704-7.451-2.556-11.209-2.556c-3.935,0-7.623,0.742-11.078,2.227c-3.452,1.488-6.468,3.539-9.046,6.16
		c-2.581,2.624-4.61,5.682-6.091,9.176c-1.49,3.495-2.23,7.211-2.23,11.146c0,3.93,0.74,7.623,2.23,11.074
		c1.48,3.459,3.51,6.473,6.091,9.049c2.578,2.574,5.594,4.606,9.046,6.089c3.455,1.488,7.144,2.229,11.078,2.229
		c2.625,0,5.238-0.369,7.862-1.115c2.625-0.736,5.069-1.76,7.343-3.074V58.987h-17.823V40.768z" />
				<rect y="75.359" width="58.264" height="17.483" />
				<rect y="38.041" fill="#EC2D88" width="58.264" height="17.475" />
				<rect y="0.716" width="58.264" height="17.483" />
				<rect x="75.748" y="0.716" width="17.479" height="92.158" />
				<rect x="113.069" y="0.716" width="17.477" height="92.158" />
				<rect x="150.388" y="0.716" width="17.486" height="92.158" />
				<rect x="185.358" y="75.359" width="58.262" height="17.483" />
				<rect x="185.358" y="38.041" width="58.262" height="17.475" />
				<rect x="185.358" y="0.716" width="58.262" height="17.483" />
				<rect x="441.73" y="75.359" width="58.27" height="17.483" />
				<rect x="441.73" y="38.038" width="58.27" height="17.474" />
				<rect x="441.73" y="0.713" width="58.27" height="17.483" />
			</g>
		</svg>
	</a>
</template>